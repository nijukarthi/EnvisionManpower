<div class="card">
    <h5>Invoice Receipt</h5> 
    <div class="border border-[var(--p-content-border-color)] rounded-lg overflow-hidden">
        <p-table [value]="invoiceGRNList" stripedRows [rowHover]="true" [paginator]="true" [rows]="pageSize"
            [first]="first" [rowsPerPageOptions]="[10, 20, 30]" [lazy]="true" [totalRecords]="totalRecords"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true"
            [tableStyle]="{'min-width': '230rem'}" (onPage)="pageChange($event)">
            <ng-template #header>
                <tr>
                    <th>SL NO</th>
                    <th>Consultancy Name</th>
                    <th>Invoice Number</th>
                    <th>Invoice Date</th>
                    <th>Invoice Status</th>
                    <th>POD</th>
                    <th>Seal and Sign Date by Consultancy</th>
                    <th>Submitted Date</th>
                    <th>Submitted To</th>
                    <th>Month</th>
                    <th>Year</th>
                    <th>Grand Total</th>           
                    <th>Recepient (Approved By)</th>
                    <th>GRN Number</th>
                    <th>GRN Status</th>
                    <th>GRN Done Date</th>
                    <th>GRN Reverse Number</th>
                    <th>GRN Reverse Reason</th>
                </tr>
            </ng-template>
            <ng-template #body let-receipt let-i="rowIndex">
                <tr>
                    <td>{{ i + 1 }}</td>
                    <td>{{ receipt.invoiceHeader.consultancy.consultancyName }}</td>
                    <td>
                        <p-button [label]="receipt.invoiceHeader.invoiceNumber" link />
                    </td>
                    <td>{{ receipt.invoiceHeader.invoiceDate | date:'dd-MM-yyyy' }}</td>
                    <td>
                        <p-tag [value]="receipt.invoiceHeader.invoiceStatus" [severity]="getSeverity(receipt.invoiceHeader.invoiceStatus)" />
                    </td>
                    <td>{{ receipt.invoiceHeader.pod }}</td>
                    <td>{{ receipt.invoiceHeader.sealAndSignDate | date:'dd-MM-yyyy' }}</td>
                    <td>{{ receipt.invoiceHeader.submittedOn }}</td>
                    <td>{{ receipt.invoiceHeader.submittedTo }}</td>
                    <td>{{ receipt.invoiceHeader.month }}</td>
                    <td>{{ receipt.invoiceHeader.year }}</td>
                    <td>{{ receipt.invoiceHeader.grandTotal }}</td>
                    <td>{{ receipt.recipient || '-' }}</td>
                    <td>{{ receipt.grnNumber || '-' }}</td>
                    <td>{{ receipt.grnStatus || '-' }}</td>
                    <td>{{ receipt.grnDoneDate || '-' }}</td>
                    <td>{{ receipt.grnReverseNumber || '-' }}</td>
                    <td>{{ receipt.grnReverseReason || '-' }}</td>
                </tr>
            </ng-template>
            <ng-template #emptymessage>
                <tr>
                    <td colspan="100%" style="text-align: center; padding: 1rem 0; background-color: var(--surface-ground);">
                        No Records Found
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-toast />
<p-dialog header="Update GRN Process" [modal]="true" [(visible)]="openGRNModal" [style]="{ width: '25rem' }">
    
</p-dialog>